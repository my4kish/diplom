<div
  class="flex justify-content-between align-items-center shadow-1 px-4 py-2 sticky top-0 surface-0 z-5"
>
  <div class="flex align-items-center gap-4">
    <div class="logo flex">
      <!-- SVG логотип -->
      <svg
        width="80"
        height="40"
        viewBox="0 0 80 40"
        xmlns="http://www.w3.org/2000/svg"
      >
        <style>
          .text {
            font-family: "Segoe UI", sans-serif;
            font-weight: bold;
            font-size: 24px;
            fill: var(--p-custom-svgtext) !important;
          }
          .dot {
            fill: #4fd1c5;
          }
        </style>
        <text x="10" y="28" class="text">BCD</text>
        <circle cx="70" cy="20" r="4" class="dot" />
      </svg>
    </div>
    <a href="/main" class="text-xl text-900">Басты бет</a>
    <a
      *ngIf="(user$ | async)?.role === 'user' || (user$ | async)?.role === 'poweruser' || (user$ | async)?.role === 'projectadmin'"
      href="/projects"
      class="text-xl text-900"
      >Жобалар</a
    >
    <a href="/all-tasks" class="text-xl text-900">Тапсырмалар</a>
  </div>

  <div class="flex align-items-center gap-3 py-1">
    <p-overlayBadge [value]="unreadCount$ | async" severity="warn">
      <p-button
        icon="pi pi-bell"
        [rounded]="true"
        [outlined]="true"
        [raised]="true"
        (click)="openNotifications()"
      ></p-button>
    </p-overlayBadge>

    <p-button
      icon="pi pi-moon"
      [rounded]="true"
      severity="contrast"
      [outlined]="true"
      [raised]="true"
      (click)="toggleDarkMode()"
    ></p-button>

    <p-button
      *ngIf="'superadmin' === (user$ | async)?.role"
      icon="pi pi-chart-bar"
      [rounded]="true"
      severity="info"
      [outlined]="true"
      [raised]="true"
      (click)="router.navigate(['/admin'])"
    ></p-button>

    <div class="card relative">
      <p-menu
        #menu
        [model]="profileItems"
        popup
        appendTo="target"
        [style]="{ right: '0px', top: '40px' }"
      ></p-menu>

      <!-- если есть user.avatarUrl -->
      <ng-container *ngIf="user$ | async as user; else guestAvatar">
        <p-avatar
          [image]="user.avatarUrl"
          size="large"
          shape="circle"
          (click)="menu.toggle($event)"
          class="cursor-pointer"
        ></p-avatar>
      </ng-container>

      <!-- иначе аватар по-умолчанию -->
      <ng-template #guestAvatar>
        <p-avatar
          icon="pi pi-user"
          size="large"
          shape="circle"
          (click)="menu.toggle($event)"
          class="cursor-pointer"
        ></p-avatar>
      </ng-template>
    </div>
  </div>
</div>
